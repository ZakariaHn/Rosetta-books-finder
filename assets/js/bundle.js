!function(n){var r={};function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=n,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=6)}([function(e,t,n){e.exports=n(4)},function(e,t){function s(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}e.exports=function(c){return function(){var e=this,i=arguments;return new Promise(function(t,n){var r=c.apply(e,i);function o(e){s(r,t,n,o,a,"next",e)}function a(e){s(r,t,n,o,a,"throw",e)}o(void 0)})}}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}},function(e,t,n){var r=function(i){"use strict";var h,e=Object.prototype,l=e.hasOwnProperty,t="function"==typeof Symbol?Symbol:{},o=t.iterator||"@@iterator",n=t.asyncIterator||"@@asyncIterator",r=t.toStringTag||"@@toStringTag";function c(e,t,n,r){var a,i,c,s,o=t&&t.prototype instanceof m?t:m,u=Object.create(o.prototype),l=new q(r||[]);return u._invoke=(a=e,i=n,c=l,s=p,function(e,t){if(s===v)throw new Error("Generator is already running");if(s===y){if("throw"===e)throw t;return C()}for(c.method=e,c.arg=t;;){var n=c.delegate;if(n){var r=function e(t,n){var r=t.iterator[n.method];if(r===h){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=h,e(t,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var o=f(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=h),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}(n,c);if(r){if(r===g)continue;return r}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if(s===p)throw s=y,c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);s=v;var o=f(a,i,c);if("normal"===o.type){if(s=c.done?y:d,o.arg===g)continue;return{value:o.arg,done:c.done}}"throw"===o.type&&(s=y,c.method="throw",c.arg=o.arg)}}),u}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}i.wrap=c;var p="suspendedStart",d="suspendedYield",v="executing",y="completed",g={};function m(){}function a(){}function s(){}var u={};u[o]=function(){return this};var b=Object.getPrototypeOf,w=b&&b(b(j([])));w&&w!==e&&l.call(w,o)&&(u=w);var x=s.prototype=m.prototype=Object.create(u);function L(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function k(s,u){var t;this._invoke=function(n,r){function e(){return new u(function(e,t){!function t(e,n,r,o){var a=f(s[e],s,n);if("throw"!==a.type){var i=a.arg,c=i.value;return c&&"object"==typeof c&&l.call(c,"__await")?u.resolve(c.__await).then(function(e){t("next",e,r,o)},function(e){t("throw",e,r,o)}):u.resolve(c).then(function(e){i.value=e,r(i)},function(e){return t("throw",e,r,o)})}o(a.arg)}(n,r,e,t)})}return t=t?t.then(e,e):e()}}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function q(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(l.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=h,e.done=!0,e};return r.next=r}}return{next:C}}function C(){return{value:h,done:!0}}return(a.prototype=x.constructor=s).constructor=a,s[r]=a.displayName="GeneratorFunction",i.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===a||"GeneratorFunction"===(t.displayName||t.name))},i.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,r in e||(e[r]="GeneratorFunction")),e.prototype=Object.create(x),e},i.awrap=function(e){return{__await:e}},L(k.prototype),k.prototype[n]=function(){return this},i.AsyncIterator=k,i.async=function(e,t,n,r,o){void 0===o&&(o=Promise);var a=new k(c(e,t,n,r),o);return i.isGeneratorFunction(t)?a:a.next().then(function(e){return e.done?e.value:a.next()})},L(x),x[r]="Generator",x[o]=function(){return this},x.toString=function(){return"[object Generator]"},i.keys=function(n){var r=[];for(var e in n)r.push(e);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},i.values=j,q.prototype={constructor:q,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=h,this.done=!1,this.delegate=null,this.method="next",this.arg=h,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&l.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=h)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return a.type="throw",a.arg=n,r.next=e,t&&(r.method="next",r.arg=h),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var o=this.tryEntries[t],a=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var i=l.call(o,"catchLoc"),c=l.call(o,"finallyLoc");if(i&&c){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&l.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r,o=n.completion;return"throw"===o.type&&(r=o.arg,S(n)),r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=h),g}},i}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"state",function(){return k});function i(){return d.booksContainer.innerHTML=""}function c(){var e=k.search.result;k.currentPage=1,d.booksContainer.style.display="grid",L(e,d.booksContainer,v.rows,k.currentPage),function(e,t,n){t.innerHTML="";for(var r=Math.ceil(e.length/n),o=1;o<r+1;o++){var a=function(t,n){var e=document.createElement("a");return e.innerHTML='<a href="#" class="page">'.concat(t,"</a>"),e.addEventListener("click",function(e){e.preventDefault(),k.currentPage=t,L(n,d.booksContainer,v.rows,k.currentPage)}),e}(o,e);t.appendChild(a),a.onclick=function(){d.booksContainer.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}}}(e,d.pagination,v.rows)}var r=n(0),p=n.n(r),o=n(1),a=n.n(o),d=(n(5),{searchQuery:document.querySelector(".search-field"),orderBy:document.querySelector(".order-by"),searchType:document.querySelector(".select-type"),filterLanguages:document.querySelector(".search-languages"),booksContainer:document.querySelector(".container-books"),result:document.querySelector(".result"),fetchBtn:document.querySelector(".fetch-values"),container:document.querySelector(".container"),filters:document.querySelector(".filters"),buttonUp:document.querySelector(".button-up"),searchHeader:document.getElementById("header"),spanx:document.querySelector(".spanX"),navbar:document.querySelector(".header-nav"),pagination:document.querySelector(".pagination"),main:document.querySelector(".main-content"),spinnerArea:document.querySelector(".spinnerArea"),modal:document.querySelector(".modal")}),s="loader",v={defaultLanguage:"en",rows:8,maxResults:32,noCover:"https://www.forewordreviews.com/books/covers/strategic-market-research.jpg",baseURL:"https://www.googleapis.com/books/v1/volumes"},u=n(2),l=n.n(u),h=n(3),f=n.n(h),y=function(){function i(e){l()(this,i);var t=e.query,n=e.language,r=e.type,o=e.max,a=e.order;t&&(this.query=t),n&&(this.language=n),r&&(this.searchType=r),o&&(this.maxResults=o),a&&(this.orderBy=a)}var e;return f()(i,[{key:"fetchResults",value:(e=a()(p.a.mark(function e(){var t,n,r,o,a,i,c=this;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=function(e){var t=e.items,n=(t=t||[]).map(function(e){var t=e.volumeInfo,n=e.id,r=t.title,o=t.publisher,a=t.previewLink,i=t.imageLinks?t.imageLinks.thumbnail:v.noCover,c=function(e){if(e){if(1<e.length)return"Authors: ".concat(e[0]," and more ").concat(e.length-1)}else e="Unknown Author";return"Author: ".concat(e)}(t.authors),s=t.publishedDate;return{id:n,title:r,description:t.description?t.description:"No description available",link:a,imgLink:i,author:c,publisher:o,published:s,pageCount:t.pageCount?t.pageCount:"Unknown"}});c.result=n},n="?q=".concat(encodeURIComponent(this.query),"&langRestrict=").concat(this.language,"&maxResults=").concat(this.maxResults),r="?q=".concat(this.searchType,":").concat(encodeURIComponent(this.query),"&langRestrict=").concat(this.language,"&maxResults=").concat(this.maxResults,"&orderBy=").concat(this.orderBy),o="",o=void 0!==this.searchType?v.baseURL+r:v.baseURL+n,e.next=8,fetch(o);case 8:return a=e.sent,console.log("Search -> fetchResults -> urlAPI",o),e.next=12,a.json();case 12:i=e.sent,console.log(i),t(i),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0);case 20:case"end":return e.stop()}},e,this,[[0,17]])})),function(){return e.apply(this,arguments)})}]),i}(),g=function(){function t(e){l()(this,t),this.id=e}var e;return f()(t,[{key:"getBook",value:(e=a()(p.a.mark(function e(){var t,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(v.baseURL,"/").concat(this.id));case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,this.result=n.volumeInfo,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}},e,this,[[0,10]])})),function(){return e.apply(this,arguments)})}]),t}(),m=function(e,n){var r=[];return e.length>n?(e.split(" ").reduce(function(e,t){return e+t.length<n&&r.push(t),e+t.length},0),"".concat(r.join(" "),"...")):e};function b(){return w.apply(this,arguments)}function w(){return(w=a()(p.a.mark(function e(){var t,n,r,o,a,i,c,s,u,l,h,f;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return f=function(e){return e?e.medium?e.medium:e.thumbnail:v.noCover},t=event.target.parentElement.id,k.book=new g(t),e.next=5,k.book.getBook();case 5:n=k.book.result,r=n.title,o=n.subtitle,a=n.authors,i=n.publisher,c=n.publishedDate,s=n.description,n.industryIdentifiers,u=n.pageCount,l=n.categories,h=n.imageLinks,console.log("imageLinks",h),document.querySelector(".modal-content").innerHTML="\n  <span class='close-button'>&times;</span>\n  \n  <h2 class=\"booktitle\">".concat(r,'<span class="subtitle">').concat(o||"",'</span></h2>\n\n  <div class="book-wrapper">\n    <div class="bookcover">\n      <img\n        src="').concat(f(h),'"\n        alt="Front Cover"\n        title="Front Cover"\n      />\n    </div>\n    <div class="book-wrapper-intern">\n      <div class="bookinfo_sectionwrap">\n        <div>\n          <a href="" class="secondary"\n            ><span dir="ltr">').concat(a,"</span></a\n          >\n        </div>\n        <div>\n          <span>").concat(i,"</span>, <span>").concat(c,'</span> -\n          <a class="secondary" href=""\n            ><span>').concat(l?l[0]:"","</span></a\n          >\n          - <span>").concat(u,' pages</span>\n        </div>\n      </div>\n      <div class="synopsis">\n          <p>').concat(s||"Description not available","</p>\n      </div>\n    </div>\n  </div>\n</div>\n  "),d.modal.classList.add("show-modal"),d.navbar.classList.add("hidden"),document.querySelector(".close-button").addEventListener("click",x);case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function x(){d.modal.classList.remove("show-modal"),d.navbar.classList.remove("hidden")}function L(e,t,n,r){t.innerHTML="";var o=n*--r,a=o+n;e.slice(o,a).forEach(function(e){var t=e.id,n=e.title,r=e.description,o=e.author,a=e.pageCount,i=e.imgLink,c=(e.link,e.published,e.publisher,'\n      <div class="book" id ="'.concat(t,'" >\n        <h3>').concat(m(n,20),"</h3>\n        <h6>").concat(o,"</h6>\n        <h6><span>").concat(a,' pages</span></h6>\n        <img class="img-box img1" src="').concat(i,'" alt="').concat(n,'" />\n        <p>\n        ').concat(m(r,200),"\n        </p>\n      </div>\n    "));d.booksContainer.insertAdjacentHTML("beforeend",c),document.querySelectorAll(".img-box").forEach(function(e){e.addEventListener("click",b)})})}var k={},E=function(){var e=a()(p.a.mark(function e(){var t;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,(t={query:d.searchQuery.value.trim(),language:v.defaultLanguage,max:v.maxResults}).query)return k.search=new y(t),e.next=6,k.search.fetchResults();e.next=7;break;case 6:k.search.result&&(i(),c(),d.result.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"}),d.searchQuery.value="");case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),S=function(){var e=a()(p.a.mark(function e(){var a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={query:k.search.query,language:d.filterLanguages.value,type:d.searchType.value,max:v.maxResults,order:d.orderBy.value},i(),k.search=new y(a),n=d.booksContainer,r="afterbegin",o='\n  <div class="'.concat(s,'">\n    <svg>\n      <use href="img/icons.svg#icon-cw"></use>\n    </svg>\n  </div>'),n.insertAdjacentHTML(r,o),e.next=7,k.search.fetchResults();case 7:t=void 0,(t=document.querySelector(".".concat(s)))&&t.remove(),c(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}var t,n,r,o},e,null,[[0,11]])}));return function(){return e.apply(this,arguments)}}();d.fetchBtn.addEventListener("click",E),[d.searchType,d.filterLanguages,d.orderBy].forEach(function(e){return e.addEventListener("change",S)}),d.buttonUp.addEventListener("click",function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),window.addEventListener("scroll",function(){this.scrollY>this.innerHeight?(d.navbar.classList.add("fixed-top"),document.body.classList.add("bg-active")):(d.navbar.classList.remove("fixed-top"),document.body.classList.remove("bg-active"))}),document.addEventListener("keypress",function(e){13===e.keyCode&&E()})}]);